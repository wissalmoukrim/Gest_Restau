{% extends 'base.html.twig' %}

{% block title %}Ajouter un plat{% endblock %}

{% block body %}
<div style="max-width: 600px; margin: 30px auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <h1 style="color: #333; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; margin-bottom: 20px;">
        ➕ Ajouter un nouveau plat
    </h1>
    
    {# DÉSACTIVE TURBO et ajoute enctype pour les fichiers #}
    {{ form_start(form, {'attr': {'data-turbo': 'false', 'enctype': 'multipart/form-data'}}) }}
    
    <div style="margin-bottom: 20px;">
        {{ form_label(form.nom) }}
        {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
    </div>
    
    <div style="margin-bottom: 20px;">
        {{ form_label(form.description) }}
        {{ form_widget(form.description, {'attr': {'class': 'form-control', 'rows': 4}}) }}
    </div>
    
    <div style="margin-bottom: 20px;">
        {{ form_label(form.prix) }}
        <div style="display: flex; align-items: center;">
            {{ form_widget(form.prix, {'attr': {'class': 'form-control', 'style': 'flex: 1;'}}) }}
            <span style="margin-left: 10px; font-weight: bold; color: #666;">DH</span>
        </div>
        <small style="color: #888;">Entrez juste le nombre (ex: 50.00)</small>
    </div>
    
    <div style="margin-bottom: 20px; display: flex; align-items: center;">
        {{ form_widget(form.disponible, {'attr': {'style': 'margin-right: 10px;'}}) }}
        {{ form_label(form.disponible) }}
    </div>
    
    <div style="margin-bottom: 25px;">
        {{ form_label(form.image) }}
        {{ form_widget(form.image, {'attr': {'class': 'form-control'}}) }}
        <small style="color: #888;">Formats acceptés: JPG, PNG, WebP</small>
    </div>
    
    <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
        <button type="submit" 
                style="background: #4CAF50; color: white; border: none; padding: 12px 30px; 
                       border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: bold;
                       transition: background 0.3s;"
                onmouseover="this.style.background='#45a049'"
                onmouseout="this.style.background='#4CAF50'">
            ✅ Ajouter le plat
        </button>
        
        <a href="{{ path('app_admin_plat') }}" 
           style="margin-left: 15px; color: #666; text-decoration: none; padding: 12px 20px;
                  border: 1px solid #ddd; border-radius: 4px; display: inline-block;">
            ↩ Retour à la liste
        </a>
    </div>
    
    {{ form_end(form) }}
</div>

<style>
    .form-control {
        width: 100%;
        padding: 10px 12px;
        margin: 8px 0 5px 0;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 16px;
        box-sizing: border-box;
    }
    
    .form-control:focus {
        border-color: #4CAF50;
        outline: none;
        box-shadow: 0 0 5px rgba(76, 175, 80, 0.3);
    }
    
    label {
        font-weight: bold;
        color: #555;
        margin-bottom: 5px;
        display: block;
    }
    
    small {
        font-size: 13px;
    }
    
    .form-check-label {
        font-weight: normal;
        color: #333;
    }
</style>
{% endblock %}